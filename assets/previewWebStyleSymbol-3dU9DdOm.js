import{H as r,ab as c,ac as l}from"./index-540L_QF2.js";async function u(e,n,a){const t=e.thumbnail?.url;if(t){const h=m((await r(t,{responseType:"image"})).data,a);return a?.node?(a.node.appendChild(h),a.node):h}const i=await e.fetchSymbol({acceptedFormats:c});return i?n(i,a):null}function m(e,n){const a=!/\\.svg$/i.test(e.src)&&n?.disableUpsampling,t=Math.max(e.width,e.height);let i=n?.maxSize!=null?l(n.maxSize):120;a&&(i=Math.min(t,i));const h=typeof n?.size=="number"?n?.size:null,o=Math.min(i,h!=null?l(h):t);if(o!==t){const s=e.width!==0&&e.height!==0?e.width/e.height:1;s>=1?(e.width=o,e.height=o/s):(e.width=o*s,e.height=o)}return e}export{u as previewWebStyleSymbol};
