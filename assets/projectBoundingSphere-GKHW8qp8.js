import{fT as h,fU as U,fV as l,fW as p,fX as j,fY as M,fZ as d,ck as $,eB as A}from"./index-fv_Ozbqb.js";function P(r,c,t,f){if(c==null||f==null)return!1;const s=h(c,f);if(s?.projector==null)return!1;if(s.projector===U)return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3]),!0;const{source:e,dest:i,projector:m}=s;if(i.spatialReferenceId===3){const n=l[e.spatialReferenceId][2];if(n==null)return!1;n(p(r),0,I,0),j(I,0,a,0);const u=R(I[1],r[2],r[3],M.radius);return d(t,a,u),!0}if(e.spatialReferenceId!==2&&e.spatialReferenceId!==5||i.spatialReferenceId!==11){m(p(r),0,a,0);const n=e.metersPerUnit??1,u=i.metersPerUnit??1,o=r[3]*n/u;d(t,a,o)}else{const n=l[e.spatialReferenceId][1],u=l[1][11];let o=r[3];n!=null&&u!=null&&(o=R(r[1],r[2],r[3],M.radius)),m(p(r),0,a,0),d(t,a,o)}return!0}function R(r,c,t,f){const s=f+c;if(s<f/2||t>s)return Number.MAX_VALUE;const e=Math.abs(V*r)+Math.asin(t/s);return e>=Math.PI/2?Number.MAX_VALUE:t/Math.cos(e)}const I=$(),a=$(),V=A(1);export{P as l};
