import{p8 as w,p9 as x,pa as y,pb as B,pc as T,pd as D,pe as b,pf as k,pg as e,ph as P,pi as M,pj as A,pk as H}from"./index-fv_Ozbqb.js";import{pl as O}from"./index-fv_Ozbqb.js";class _ extends w{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=x(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=y.new(this._root,{themeTags:x(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(B.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:T.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(y.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(t){t&&this._disposers.push(t.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const t=this.startGrip,i=this.endGrip,r=this.thumb,o=this.get("background");o&&this._disposers.push(o.events.on("click",s=>{this.setPrivateRaw("isBusy",!0);const a=this._display.toLocal(s.point),n=this.width(),u=this.height(),d=this.get("orientation");let h;d=="vertical"?h=(a.y-r.height()/2)/u:h=(a.x-r.width()/2)/n;let l,p;d=="vertical"?(l=h*u,p="y"):(l=h*n,p="x");const m=this.get("animationDuration",0);m>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:p,to:l,duration:m,easing:this.get("animationEasing")}))):(this.thumb.set(p,l),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(r.events.on("dblclick",s=>{if(!D(s.originalEvent,this))return;const a=this.get("animationDuration",0),n=this.get("animationEasing");this.animate({key:"start",to:0,duration:a,easing:n}),this.animate({key:"end",to:1,duration:a,easing:n})})),this._disposers.push(t.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(i.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(r.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(t.events.on("globalpointerup",()=>{this._startDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._startDown=!1})),this._disposers.push(i.events.on("globalpointerup",()=>{this._endDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._endDown=!1})),this._disposers.push(r.events.on("globalpointerup",()=>{this._thumbDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._thumbDown=!1})),this._disposers.push(t.on("x",()=>{this._updateThumb()})),this._disposers.push(i.on("x",()=>{this._updateThumb()})),this._disposers.push(t.on("y",()=>{this._updateThumb()})),this._disposers.push(i.on("y",()=>{this._updateThumb()})),this._disposers.push(r.events.on("positionchanged",()=>{this._updateGripsByThumb()})),this.get("orientation")=="vertical"?(t.set("x",0),i.set("x",0),this._disposers.push(r.adapters.add("y",s=>Math.max(Math.min(Number(s),this.height()-r.height()),0))),this._disposers.push(r.adapters.add("x",s=>this.width()/2)),this._disposers.push(t.adapters.add("x",s=>this.width()/2)),this._disposers.push(i.adapters.add("x",s=>this.width()/2)),this._disposers.push(t.adapters.add("y",s=>Math.max(Math.min(Number(s),this.height()),0))),this._disposers.push(i.adapters.add("y",s=>Math.max(Math.min(Number(s),this.height()),0)))):(t.set("y",0),i.set("y",0),this._disposers.push(r.adapters.add("x",s=>Math.max(Math.min(Number(s),this.width()-r.width()),0))),this._disposers.push(r.adapters.add("y",s=>this.height()/2)),this._disposers.push(t.adapters.add("y",s=>this.height()/2)),this._disposers.push(i.adapters.add("y",s=>this.height()/2)),this._disposers.push(t.adapters.add("x",s=>Math.max(Math.min(Number(s),this.width()),0))),this._disposers.push(i.adapters.add("x",s=>Math.max(Math.min(Number(s),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const t="rangechanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}_released(){const t="released";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}updateGrips(){const t=this.startGrip,i=this.endGrip,r=this.get("orientation"),o=this.height(),s=this.width();r=="vertical"?(t.set("y",o*this.get("start",0)),i.set("y",o*this.get("end",1))):(t.set("x",s*this.get("start",0)),i.set("x",s*this.get("end",1)));const a=this.getPrivate("positionTextFunction"),n=Math.round(this.get("start",0)*100),u=Math.round(this.get("end",0)*100);let d,h;a?(d=a.call(this,this.get("start",0)),h=a.call(this,this.get("end",0))):(d=n+"%",h=u+"%"),t.set("ariaLabel",this._t("From %1",void 0,d)),t.set("ariaValueNow",""+n),t.set("ariaValueText",n+"%"),t.set("ariaValueMin","0"),t.set("ariaValueMax","100"),i.set("ariaLabel",this._t("To %1",void 0,h)),i.set("ariaValueNow",""+u),i.set("ariaValueText",u+"%"),i.set("ariaValueMin","0"),i.set("ariaValueMax","100")}_updateThumb(){const t=this.thumb,i=this.startGrip,r=this.endGrip,o=this.height(),s=this.width();let a=i.x(),n=r.x(),u=i.y(),d=r.y(),h=0,l=1;this.get("orientation")=="vertical"?b(u)&&b(d)&&(!this._thumbBusy&&!t.isDragging()&&(t.set("height",d-u),t.set("y",u)),h=u/o,l=d/o):b(a)&&b(n)&&(!this._thumbBusy&&!t.isDragging()&&(t.set("width",n-a),t.set("x",a)),h=a/s,l=n/s),this.getPrivate("isBusy")&&(this.get("start")!=h||this.get("end")!=l)&&(this.set("start",h),this.set("end",l));const p=this.getPrivate("positionTextFunction"),m=Math.round(this.get("start",0)*100),v=Math.round(this.get("end",0)*100);let g,f;p?(g=p.call(this,this.get("start",0)),f=p.call(this,this.get("end",0))):(g=m+"%",f=v+"%"),t.set("ariaLabel",this._t("From %1 to %2",void 0,g,f)),t.set("ariaValueNow",""+m),t.set("ariaValueText",m+"%")}_updateGripsByThumb(){const t=this.thumb,i=this.startGrip,r=this.endGrip;if(this.get("orientation")=="vertical"){const o=t.height();i.set("y",t.y()),r.set("y",t.y()+o)}else{const o=t.width();i.set("x",t.x()),r.set("x",t.x()+o)}}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"});Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:w.classNames.concat([_.className])});class N extends k{setupDefaultRules(){super.setupDefaultRules(),this.rule("InterfaceColors").setAll({stroke:e.fromHex(0),fill:e.fromHex(2829099),primaryButton:e.lighten(e.fromHex(6788316),-.2),primaryButtonHover:e.lighten(e.fromHex(6779356),-.2),primaryButtonDown:e.lighten(e.fromHex(6872181),-.2),primaryButtonActive:e.lighten(e.fromHex(6872182),-.2),primaryButtonText:e.fromHex(16777215),primaryButtonStroke:e.lighten(e.fromHex(6788316),-.2),secondaryButton:e.fromHex(3881787),secondaryButtonHover:e.lighten(e.fromHex(3881787),.1),secondaryButtonDown:e.lighten(e.fromHex(3881787),.15),secondaryButtonActive:e.lighten(e.fromHex(3881787),.2),secondaryButtonText:e.fromHex(12303291),secondaryButtonStroke:e.lighten(e.fromHex(3881787),-.2),grid:e.fromHex(12303291),background:e.fromHex(0),alternativeBackground:e.fromHex(16777215),text:e.fromHex(16777215),alternativeText:e.fromHex(0),disabled:e.fromHex(11382189),positive:e.fromHex(5288704),negative:e.fromHex(11730944)})}}const R=["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04","#b87bb0","#3fa681","#EE6386"].map(c=>H(c));export{M as AnimatedThemeAm5,A as ColorSetAm5,N as DarkThemeAm5,P as ResponsiveThemeAm5,_ as ScrollbarAm5,k as ThemeAm5,O as TooltipAm5,H as colorAm5,R as esriChartColorSet};
